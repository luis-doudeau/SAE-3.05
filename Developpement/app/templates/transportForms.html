{% include 'banner.html' %}
<body>
    <main style="background-color : #ebf3fc;">
        <section class="ftco-section row justify-content-center shadow-lg">    
          <form method="POST" id="formCoo" class="container shadow flex wrap p-4" style="overflow : scroll;">
            <label style="text-decoration : underline;" for="transport" class="col-sm-2 col-form-label mb-1 fs-3 ml-2" id="voyage">Transport</label>
            <small id="emailHelp" class="col-form-label mb-3 ml-4 form-text text-muted fs-5">Si vous utilisez plusieurs d'entre-eux, cocher plusieurs cases.</small>
            


            <div class="container-fluid justify-content-center" style="margin-bottom : 6%;">

              <div style="margin-left : 0.20em;" class="row col d-flex justify-content-center mt-5">

                  <div class="col-sm-6 col-lg-3 btn-custom" id="cardAvion">
                      <!-- Simple card -->
                      <div class="card d-block text-center shadow mt-5 card_hover">
                          <div class=""> 
                            <img class="card-img-2" src="{{url_for('static', filename='img/plane.png')}}" alt="Card image cap">
                          </div>
                          <div class="card-body">
                              <h4 class="card-title mb-2">Avion</h4>
                          </div> <!-- end card-body-->
                      </div> <!-- end card-->
                  </div><!-- end col -->

                  
                  <div class="col-sm-6 col-lg-3 btn-custom" id="cardTrain">
                    <!-- Simple card -->
                    <div class="card d-block text-center shadow mt-5 card_hover">
                        <div class=""> 
                          <img class="card-img-2" src="{{url_for('static', filename='img/train.png')}}" alt="Card image cap">
                        </div>
                        <div class="card-body">
                            <h4 class="card-title mb-2">Train</h4>
                        </div> <!-- end card-body-->
                    </div> <!-- end card-->
                </div><!-- end col -->
                  

                <div class="col-sm-6 col-lg-3 btn-custom" id="cardVoiture">
                  <!-- Simple card -->
                  <div class="card d-block text-center shadow mt-5 card_hover">
                      <div class=""> 
                        <img class="card-img-2" src="{{url_for('static', filename='img/car.png')}}" alt="Card image cap">
                      </div>
                      <div class="card-body">
                          <h4 class="card-title mb-2">Voiture</h4>
                      </div> <!-- end card-body-->
                  </div> <!-- end card-->
              </div><!-- end col -->
              </div>
            
              


              <div style="margin-left : 0.20em;" class="row col d-flex justify-content-center mt-3">

                <div class="col-sm-6 col-lg-3 btn-custom" id="cardCovoiturage">
                  <!-- Simple card -->
                  <div class="card d-block text-center shadow mt-5 card_hover">
                      <div class=""> 
                        <img class="card-img-2" src="{{url_for('static', filename='img/carpooling.png')}}" alt="Card image cap">
                      </div>
                      <div class="card-body">
                          <h4 class="card-title mb-2">Covoiturage</h4>
                      </div> <!-- end card-body-->
                  </div> <!-- end card-->
              </div><!-- end col -->

                
              <div class="col-sm-6 col-lg-3 btn-custom" id="cardAutre">
                <!-- Simple card -->
                <div class="card d-block text-center shadow mt-5 card_hover">
                    <div class=""> 
                      <img class="card-img-2" src="{{url_for('static', filename='img/other.png')}}" alt="Card image cap">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title mb-2">Autre</h4>
                    </div> <!-- end card-body-->
                </div> <!-- end card-->
            </div><!-- end col -->
            </div>
          </div>
            
            <!-- div qui vont contenir les détails sur les transports-->
            <div class="container-fluid justify-content-center divLieuDepArrive" id="divLieuDepArriveAvion">
              
            </div>

            <div class="container-fluid justify-content-center divLieuDepArrive" id="divLieuDepArriveTrain">
            </div>

            <div class="container-fluid justify-content-center divLieuDepArrive" id="divLieuDepArriveVoiture">
            </div>

            <div class="container-fluid justify-content-center divLieuDepArrive" id="divLieuDepArriveCovoiturage">
            </div>

            <div class="container-fluid justify-content-center divLieuDepArrive" id="divLieuDepArriveAutre">
            </div>

            <label for="transport" class="col-form-label mb-4 ml-4 fs-3" style="text-decoration : underline;" id="voyage">Arrivé à Blois</label>
            <div class="form-group row ml-5 mb-5">
                <div class="col-sm-10 form-row">
                  <label for="inputEmail3" class="mr-3 col-form-label fs-4" style="padding-top:15.5px;">Le</label>
                  <input id="dateArr" style="height: 113%;font-size : 1.25rem;" name="dateArr" class="col-sm-4 form-control pl-3" type="date" title="Veuillez saisir une date valide au format : jj/mm/aaaa " required>
                  <label for="inputEmail3" class="mr-3 ml-3 col-form-label fs-4" style="padding-top:15.5px;">à</label>
                  <input type="time" style="height: 113%; font-size : 1.25rem;" id="hArrive" name="hArrive" class="form-control col-sm-2 col-form-label pl-3" required>
                </div>
            </div>
            <label for="transport" class="col-form-label mb-4 ml-4 fs-3" style="text-decoration : underline;" id="voyage">Départ de Blois</label>
            <div class="form-group row ml-5 mb-5">
                <div class="col-sm-10 form-row">
                  <label for="inputEmail3" class="mr-3 col-form-label fs-4" style="padding-top:15.5px;">Le</label>
                  <input id="dateDep" style="height: 113%;font-size : 1.25rem;" name="dateDep" class="col-sm-4 form-control pl-3 pt-2" type="date" title="Veuillez saisir une date valide au format : jj/mm/aaaa " required>
                  <label for="inputEmail3" class="mr-3 ml-3 col-form-label fs-4" style="padding-top:15.5px;">à</label>
                  <input type="time" style="height: 113%; font-size : 1.25rem;" id="hDep" name="hDep" class="form-control col-sm-2 col-form-label pl-3" required>
                </div>
            </div>
            <small id="emailHelp" class="col-form-label mb-3 ml-3 fs-5 ml-4 form-text text-muted">Si vous prenez le train, préciser l'heure d'arrivé/départ précise à la gare.</small>
              <div class="form-group text-center mt-5 mb-1">
                <button type="submit" class="btn text-light mr-4 bg-danger" style="width: 140px; height: 45px;font-size:130%;">Retour</button>
                <button type="submit" class="btn text-light mr-2 bg-warning" style="width: 140px; height: 45px;font-size:130%;" onclick="return verif_champ_transport()">Suivant</button>
            </div>
          </form>
        
        </section>
    </main>
</body>
</html>


<script>





function createDivAutre(){
  var container = document.createElement("div");
  container.classList.add("row", "d-flex", "justify-content-center", "container_lieu_transport");
  container.id = "divLieuDepArriveAutre";

  var departCol = document.createElement("div");
  departCol.classList.add("col-sm-6", "col-lg-3");
  
  var precision = document.createElement("input");
  precision.setAttribute("autocomplete", "off");
  precision.id = "precision";
  precision.placeholder = "Précision";
  precision.setAttribute("inputmode", "text");
  precision.setAttribute("spellcheck", "false");
  precision.style = "font-size: 1.1em;";
  precision.classList.add("form-control");
  precision.style.height = "110%";
  precision.style.width = "130%";
  departCol.appendChild(precision);
  container.appendChild(departCol);
  var deleteButtonCol = document.createElement("div");
  deleteButtonCol.classList.add("col-sm-6", "col-lg-1");
  deleteButtonCol.id = "divBoutonSuppr";

  var deleteButton = document.createElement("button");
  deleteButton.type = "button";
  deleteButton.setAttribute("autocomplete", "off");
  deleteButton.id = "boutonSuppr";
  deleteButton.placeholder = "À Partir De";
  deleteButton.setAttribute("inputmode", "text");
  deleteButton.setAttribute("spellcheck", "false");
  deleteButton.classList.add("boutonSuppr");
  deleteButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"> <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/> </svg>';
  deleteButtonCol.appendChild(deleteButton);
  container.appendChild(deleteButtonCol);
  deleteButton.addEventListener("click", function() {
    if(container != null){
      container.parentNode.removeChild(container);
      var divTransport = document.getElementById("divLieuDepArriveAutre");
      divTransport.style = '';
      divTransport.innerHTML = '';
      document.body.scrollIntoView({ behavior: 'smooth' });
    }
  });
  return container;
}




function createDiv1(nomTransport){

  var container = document.createElement("div");
  container.classList.add("row", "d-flex", "justify-content-center", "container_lieu_transport");
  container.id = "container_lieu_avion";

  var departCol = document.createElement("div");
  departCol.classList.add("col-sm-6", "col-lg-3");
  
  var divTrainTransportArrive = document.createElement("div");
  divTrainTransportArrive.classList.add("col-3");
  var departInput = document.createElement("input");
  departInput.setAttribute("autocomplete", "off");
  departInput.id = "lieuDepartAvion";
  departInput.placeholder = "Aéroport Départ";
  departInput.setAttribute("inputmode", "text");
  departInput.setAttribute("spellcheck", "false");
  departInput.style = "font-size: 1.1em;";
  departInput.classList.add("form-control");
  departInput.style.height = "110%";
  departInput.style.width = "120%";
  divTrainTransportArrive.appendChild(departInput);
  container.appendChild(divTrainTransportArrive);

  var reverseButtonCol = document.createElement("div");
  reverseButtonCol.classList.add("col-sm-6", "col-lg-1");
  reverseButtonCol.id = "divBoutonReverse";

  var reverseButton = document.createElement("button");
  reverseButton.type = "button";
  reverseButton.setAttribute("autocomplete", "off");
  reverseButton.id = "boutonReverse";
  reverseButton.placeholder = "À Partir De";
  reverseButton.setAttribute("inputmode", "text");
  reverseButton.setAttribute("spellcheck", "false");
  reverseButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" id="reverseButtonImg" viewBox="0 0 16 16" class="bi bi-arrow-repeat rotate"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path> <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path> </svg>';
  reverseButtonCol.appendChild(reverseButton);
  container.appendChild(reverseButtonCol);

  var arriveCol = document.createElement("div");
  arriveCol.classList.add("col-sm-6", "col-lg-3");
  arriveCol.id = "divLieuArrive";


  var divTrainTransportDepart = document.createElement("div");
  divTrainTransportDepart.classList.add("col-3");
  var arriveInput = document.createElement("input");
  arriveInput.setAttribute("autocomplete", "off");
  arriveInput.id = "lieuArriveAvion";
  arriveInput.placeholder = "Aéroport Arrivé";
  arriveInput.setAttribute("inputmode", "text");
  arriveInput.setAttribute("spellcheck", "false");
  arriveInput.classList.add("form-control");
  arriveInput.style = "font-size: 1.1em"
  arriveInput.style.height = "110%";
  arriveInput.style.width = "120%";
  divTrainTransportDepart.appendChild(arriveInput);
  container.appendChild(divTrainTransportDepart);

  var deleteButtonCol = document.createElement("div");
  deleteButtonCol.classList.add("col-sm-6", "col-lg-1");
  deleteButtonCol.id = "divBoutonSuppr";

  var deleteButton = document.createElement("button");
  deleteButton.type = "button";
  deleteButton.classList.add("boutonSuppr");
  deleteButton.setAttribute("autocomplete", "off");
  deleteButton.id = "boutonSuppr";
  deleteButton.placeholder = "À Partir De";
  deleteButton.setAttribute("inputmode", "text");
  deleteButton.setAttribute("spellcheck", "false");
  deleteButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"> <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/> </svg>';
  deleteButtonCol.appendChild(deleteButton);
  container.appendChild(deleteButtonCol);

  let div = document.createElement("div");
  let img = document.createElement("img");


    switch(nomTransport){
      case ('covoiturage') :
        container.id = "container_lieu_covoiturage";
        var divTransport = document.getElementById("divLieuDepArriveCovoiturage");
        divTransport.style = 'background-color: #f5f7fa;height: 185px;border-radius: 0 .5rem .5rem .5rem;box-shadow: 0 0 24px 2px rgba(0,0,0,.2);width : 85%;';
        departInput.placeholder = "Lieu Départ";
        arriveInput.placeholder = "Lieu Arrivé";
        departInput.id = "lieuDepartCovoiturage";
        arriveInput.id = "lieuArriveCoivoiturage";
        // Create a new img element
        img.style = "height : 100%;"     
        // Add the class "card-img-2" to the div element
        div.classList.add("imgTransport");
        img.src = "{{url_for('static', filename='img/carpooling.png')}}";
        // Append the img element to the div element
        div.appendChild(img); 
        divTransport.appendChild(div);
        reverseButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" id="reverseButtonImgCo" viewBox="0 0 16 16" class="bi bi-arrow-repeat rotate"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path> <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path> </svg>';
        reverseButton.addEventListener("click", function() {
        if(departInput.value != "" && arriveInput.value != ""){
          const img_svg = document.getElementById("reverseButtonImgCo");
          img_svg.classList.toggle("reverse");
          const lieuDep = departInput.value;
          departInput.value = arriveInput.value;
          arriveInput.value = lieuDep;
        }
        });
        divTransport.appendChild(container);
        break;
      case ('train') :
        container.id = "container_lieu_train";
        var divTransport = document.getElementById("divLieuDepArriveTrain");
        divTransport.style = 'background-color: #f5f7fa;height: 185px;border-radius: 0 .5rem .5rem .5rem;box-shadow: 0 0 24px 2px rgba(0,0,0,.2);width : 85%;';
        departInput.placeholder = "Gare Départ";
        arriveInput.placeholder = "Gare Arrivé";
        departInput.id = "lieuDepartTrain";
        arriveInput.id = "lieuArriveTrain";
        departInput.addEventListener("keyup", filterFunction);
        departInput.addEventListener("click", filterFunction);
        arriveInput.addEventListener("keyup", filterFunction2);
        arriveInput.addEventListener("click", filterFunction2);
        // Create a new img element
        img.style = "height : 100%;"     
        // Add the class "card-img-2" to the div element
        div.classList.add("imgTransport");
        img.src = "{{url_for('static', filename='img/train.png')}}"
        // Append the img element to the div element
        div.appendChild(img); 
        divTransport.appendChild(div);
        reverseButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" id="reverseButtonImgTrain" viewBox="0 0 16 16" class="bi bi-arrow-repeat rotate"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path> <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path> </svg>';
        
        
        const optionsGare = document.createElement("div");
        optionsGare.classList.add("dropdown-content");
        optionsGare.style.display = "none";
        optionsGare.id = "optionsGare";

        const optionsGare2 = document.createElement("div");
        optionsGare2.classList.add("dropdown-content", "col-form-label");
        optionsGare2.style.display = "none";
        optionsGare2.id = "optionsGare2";

        divTrainTransportDepart.appendChild(optionsGare);
        divTrainTransportDepart.appendChild(optionsGare2);


        reverseButton.addEventListener("click", function() {
        if(departInput.value != "" && arriveInput.value != ""){
          const img_svg = document.getElementById("reverseButtonImgTrain");
          img_svg.classList.toggle("reverse");
          const lieuDep = departInput.value;
          departInput.value = arriveInput.value;
          arriveInput.value = lieuDep;
        }
        });
        divTransport.appendChild(container);
        break;
      case ('voiture') :
        container.id = "container_lieu_voiture";
        var divTransport = document.getElementById("divLieuDepArriveVoiture");
        divTransport.style = 'background-color: #f5f7fa;height: 185px;border-radius: 0 .5rem .5rem .5rem;box-shadow: 0 0 24px 2px rgba(0,0,0,.2);width : 85%;';
        departInput.placeholder = "Lieu Départ";
        arriveInput.placeholder = "Lieu Arrivé";
        departInput.id = "lieuDepartVoiture";
        arriveInput.id = "lieuArriveVoiture";
        // Create a new img element
        img.style = "height : 100%;"     
        // Add the class "card-img-2" to the div element
        div.classList.add("imgTransport");
        img.src = "{{url_for('static', filename='img/car.png')}}";
        // Append the img element to the div element
        div.appendChild(img); 
        divTransport.appendChild(div);
        reverseButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" id="reverseButtonImgVoiture" viewBox="0 0 16 16" class="bi bi-arrow-repeat rotate"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path> <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path> </svg>';
        reverseButton.addEventListener("click", function() {
        if(departInput.value != "" && arriveInput.value != ""){
          const img_svg = document.getElementById("reverseButtonImgVoiture");
          img_svg.classList.toggle("reverse");
          const lieuDep = departInput.value;
          departInput.value = arriveInput.value;
          arriveInput.value = lieuDep;
        }
        });
        divTransport.appendChild(container);
        break;
      case ('autre') :
        container = createDivAutre();
        container.id = "container_lieu_autre";
        var divTransport = document.getElementById("divLieuDepArriveAutre");
        divTransport.style = 'background-color: #f5f7fa;height: 185px;border-radius: 0 .5rem .5rem .5rem;box-shadow: 0 0 24px 2px rgba(0,0,0,.2);width : 85%;';
        // Create a new img element
        img.style = "height : 100%;"     
        // Add the class "card-img-2" to the div element
        div.classList.add("imgTransport");
        img.src = "{{url_for('static', filename='img/other.png')}}"
        // Append the img element to the div element
        div.appendChild(img); 
        divTransport.appendChild(div);
        divTransport.appendChild(container);
        break;
      default :
        var divTransport = document.getElementById("divLieuDepArriveAvion");
        divTransport.style = 'background-color: #f7f8fa;height: 185px;border-radius: 0 .5rem .5rem .5rem;box-shadow: 0 0 24px 2px rgba(0,0,0,.2);width : 85%;';
        // Create a new img element
        img.style = "height : 100%;"     
        // Add the class "card-img-2" to the div element
        div.classList.add("imgTransport");
        img.src = "{{url_for('static', filename='img/plane.png')}}"
        // Append the img element to the div element
        div.appendChild(img); 
        divTransport.appendChild(div);
        reverseButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" id="reverseButtonImgAvion" viewBox="0 0 16 16" class="bi bi-arrow-repeat rotate"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path> <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path> </svg>';
        reverseButton.addEventListener("click", function() {
        if(departInput.value != "" && arriveInput.value != ""){
          const img_svg = document.getElementById("reverseButtonImgAvion");
          img_svg.classList.toggle("reverse");
          const lieuDep = departInput.value;
          departInput.value = arriveInput.value;
          arriveInput.value = lieuDep;
        }
        });
        divTransport.appendChild(container);
        break;
    } 

    deleteButton.addEventListener("click", function() {
      if(container != null){
        container.parentNode.removeChild(container);
        divTransport.style = '';
        divTransport.removeChild(div);
        document.body.scrollIntoView({ behavior: 'smooth' });      }
    });
}

const cardAvion = document.getElementById("cardAvion");

cardAvion.addEventListener("click", function(){
  const container_lieu_avion = document.getElementById("container_lieu_avion");
  if(container_lieu_avion == null){
    createDiv1('avion');
  }

  //décalage en px
  var offest = -60;

  var element = document.getElementById("divLieuDepArriveAvion");
    var rect = element.getBoundingClientRect();
    // Faire défiler la page jusqu'à l'élément
    window.scrollTo(0, rect.top + window.pageYOffset+offest);
});


const cardTrain = document.getElementById("cardTrain");

cardTrain.addEventListener("click", function(){
  const container_lieu_train= document.getElementById("container_lieu_train");
  if(container_lieu_train == null){
    createDiv1('train');
  }

  //décalage en px
  var offest = -60;

  var element = document.getElementById("divLieuDepArriveTrain");
    var rect = element.getBoundingClientRect();
    // Faire défiler la page jusqu'à l'élément
    window.scrollTo(0, rect.top + window.pageYOffset+offest);
});


const cardVoiture = document.getElementById("cardVoiture");

cardVoiture.addEventListener("click", function(){
  const container_lieu_avion = document.getElementById("container_lieu_voiture");
  if(container_lieu_avion == null){
    createDiv1('voiture');
  }

  //décalage en px
  var offest = -60;

  var element = document.getElementById("divLieuDepArriveVoiture");
    var rect = element.getBoundingClientRect();
    // Faire défiler la page jusqu'à l'élément
    window.scrollTo(0, rect.top + window.pageYOffset+offest);
});



const cardCovoiturage = document.getElementById("cardCovoiturage");

cardCovoiturage.addEventListener("click", function(){
  const container_lieu_avion = document.getElementById("container_lieu_covoiturage");
  if(container_lieu_avion == null){
    createDiv1('covoiturage');
  }

  //décalage en px
  var offest = -60;

  var element = document.getElementById("divLieuDepArriveCovoiturage");
    var rect = element.getBoundingClientRect();
    // Faire défiler la page jusqu'à l'élément
    window.scrollTo(0, rect.top + window.pageYOffset+offest);
});



const cardAutre = document.getElementById("cardAutre");

cardAutre.addEventListener("click", function(){
  const container_lieu_avion = document.getElementById("container_lieu_autre");
  if(container_lieu_avion == null){
    createDiv1('autre');
  }

  //décalage en px
  var offest = -60;

  var element = document.getElementById("divLieuDepArriveAutre");
    var rect = element.getBoundingClientRect();
    // Faire défiler la page jusqu'à l'élément
    window.scrollTo(0, rect.top + window.pageYOffset+offest);
});









    var xhr = new XMLHttpRequest();

function loadOptions() {
  var xhr = new XMLHttpRequest();
  var div = document.getElementById("optionsGare");
  xhr.open("GET", "../static/txt/gare.txt", true);
  xhr.onload = function() {
    if (xhr.status === 200) {
      var options = xhr.responseText.split("\n");
      for (var i = 0; i < options.length; i++) {
        var option = options[i];
        var a = document.createElement("a");
        a.setAttribute("onclick", "changeValeur(this)");
        a.setAttribute("href", "#");
        a.setAttribute("style", "position: absolute;"); 
        a.setAttribute("style", "margin: -3px;"); 
        a.style.display = "none";
        a.textContent = option;

        // Ajouter un écouteur d'événement "mousedown" à chaque élément "a"
        a.addEventListener("click", function(event) {
          // Empêcher le comportement par défaut de l'événement "mousedown"
          event.preventDefault();

          // Mettre à jour la valeur de l'input avec le texte de l'élément "a" sur lequel vous avez cliqué
          
          div.style.display = "none";
        });
        div.appendChild(a);
      
        
      }
    } else {
      // Il y a eu un problème avec la requête, traitez-le ici
    }
  };
  xhr.send();
}

function loadOptions2() {
  var xhr = new XMLHttpRequest();
  var div2 = document.getElementById("optionsGare2");
  xhr.open("GET", "../static/txt/gare.txt", true);
  xhr.onload = function() {
    if (xhr.status === 200) {
      var options = xhr.responseText.split("\n");
      for (var i = 0; i < options.length; i++) {
        var option = options[i];
        var a = document.createElement("a");
        a.setAttribute("onclick", "changeValeur2(this)");
        a.setAttribute("href", "#");
        a.setAttribute("style", "position: absolute;"); 
        a.setAttribute("style", "margin: -3px;"); 
        a.style.display = "none";
        a.textContent = option;

        // Ajouter un écouteur d'événement "mousedown" à chaque élément "a"
        a.addEventListener("click", function(event) {
          // Empêcher le comportement par défaut de l'événement "mousedown"
          event.preventDefault();

          // Mettre à jour la valeur de l'input avec le texte de l'élément "a" sur lequel vous avez cliqué
          
          div2.style.display = "none";
        });
        div2.appendChild(a);
        
      }
    } else {
      // Il y a eu un problème avec la requête, traitez-le ici
    }
  };
  xhr.send();
}

window.addEventListener("load", loadOptions);
window.addEventListener("load", loadOptions2);

function filterFunction() {
  var input, filter, ul, li, a, i, existeElem, div2;
  input = document.getElementById("gare");
  filter = input.value.toUpperCase();
  div2 = document.getElementById("optionsGare");
  a = div2.getElementsByTagName("a");
  existeElem = false;
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    for(y = 0; y < filter.length; y++) {
        if (txtValue.toUpperCase()[y] == filter[y]) {
            a[i].style.display = "";
            div2.style.display = "";
            existeElem = true;

        }
        else {
            a[i].style.display = "none";
            break;
        }
    }
  }
  if(!existeElem){
    div2.style.display = "none";
  }
}






function filterFunction2() {
  var input, filter, ul, li, a, i, existeElem, div2;
  input = document.getElementById("myInput2");
  filter = input.value.toUpperCase();
  div = document.getElementById("optionsGare2");
  a = div.getElementsByTagName("a");
  existeElem = false;
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    for(y = 0; y < filter.length; y++) {
        if (txtValue.toUpperCase()[y] == filter[y] || txtValue =="Blois-Chambord") {
            a[i].style.display = "";
            div.style.display = "";
            existeElem = true;

        }
        else {
            a[i].style.display = "none";
            break;
        }
    }
  }
  if(!existeElem){
    div.style.display = "none";
  }
}

let today = new Date().toISOString().substr(0, 10);

document.getElementById("dateDep").value = today;
document.getElementById("dateArr").value = today;


let currentTime = new Date().toLocaleString('fr-FR', { hour: '2-digit', minute: '2-digit' });

document.getElementById("hArrive").value = currentTime;
document.getElementById("hDep").value = currentTime;


window.addEventListener("load", filterFunction);
window.addEventListener("load", filterFunction2);



function setupDropdown(){
  var div = document.getElementById("optionsGare");
  var options = div.getElementsByTagName("a");
  for (var i = 0; i < options.length; i++) {
    options[i].style.display = "none";
  }
}


function setupDropdown2(){
  var div = document.getElementById("optionsGare2");
  var options = div.getElementsByTagName("a");
  for (var i = 0; i < options.length; i++) {
    options[i].style.display = "none";
  }
}


function changeValeur(valeur){
    input = document.getElementById("gare");
    input.value = valeur.textContent;
    setupDropdown();
}


function changeValeur2(valeur){
  input = document.getElementById("myInput2");
  input.value = valeur.textContent;
  setupDropdown2();
} 


</script>